  # AI è²¡å‹™æ–‡ä»¶å¯©æ ¸ç³»çµ± - å®Œæ•´ä½¿ç”¨æŒ‡å—

## ğŸ“‹ ç³»çµ±æ¦‚è¿°

AI è²¡å‹™æ–‡ä»¶å¯©æ ¸ç³»çµ±æ˜¯ä¸€å€‹ç‚ºé‡‘èå…¬å¸è¨­è¨ˆçš„å®Œæ•´æ–‡ä»¶å¯©æ ¸è§£æ±ºæ–¹æ¡ˆï¼Œä½¿ç”¨ AI æŠ€è¡“è‡ªå‹•åˆ†ææ–‡ä»¶ã€è©•ä¼°é¢¨éšªã€æª¢æŸ¥åˆè¦æ€§ï¼Œå¤§å¹…æå‡å¯©æ ¸æ•ˆç‡ä¸¦é™ä½äººç‚ºéŒ¯èª¤ã€‚

### ä¸»è¦åŠŸèƒ½

âœ… **AI è‡ªå‹•åˆ†æ** - æ™ºèƒ½è­˜åˆ¥æ–‡ä»¶å…§å®¹ã€æå–é—œéµä¿¡æ¯  
âœ… **é¢¨éšªè©•ä¼°** - è‡ªå‹•è¨ˆç®—é¢¨éšªåˆ†æ•¸ï¼Œè­˜åˆ¥é«˜é¢¨éšªå› ç´   
âœ… **åˆè¦æª¢æŸ¥** - è‡ªå‹•é©—è­‰æ˜¯å¦ç¬¦åˆç›£ç®¡è¦æ±‚  
âœ… **å®Œæ•´æ€§é©—è­‰** - æª¢æŸ¥å¿…è¦ä¿¡æ¯æ˜¯å¦å®Œæ•´  
âœ… **æ™ºèƒ½å»ºè­°** - AI æä¾›æ ¸å‡†/æ‹’çµ•/å¯©æ ¸å»ºè­°  
âœ… **å¯©æ ¸è¿½è¹¤** - å®Œæ•´çš„å¯©æ ¸æ­·å²è¨˜éŒ„  
âœ… **çµ±è¨ˆå ±è¡¨** - å¯¦æ™‚çµ±è¨ˆå’Œè¶¨å‹¢åˆ†æ  

## ğŸ—ï¸ ç³»çµ±æ¶æ§‹

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚           Frontend (React + TypeScript)     â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚  FinancialDocumentReview.tsx        â”‚   â”‚
â”‚  â”‚  - æ–‡ä»¶åˆ—è¡¨                          â”‚   â”‚
â”‚  â”‚  - AI åˆ†æè§¸ç™¼                       â”‚   â”‚
â”‚  â”‚  - å¯©æ ¸æ±ºç­–                          â”‚   â”‚
â”‚  â”‚  - çµ±è¨ˆå„€è¡¨æ¿                        â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                  â”‚ Supabase Client
                  â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚         Supabase Backend                     â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚  Edge Function:                      â”‚   â”‚
â”‚  â”‚  document-review-analyzer            â”‚   â”‚
â”‚  â”‚  - analyze_document                  â”‚   â”‚
â”‚  â”‚  - check_compliance                  â”‚   â”‚
â”‚  â”‚  - validate_document                 â”‚   â”‚
â”‚  â”‚  - extract_data                      â”‚   â”‚
â”‚  â”‚  - get_statistics                    â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                              â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚  Database Tables:                    â”‚   â”‚
â”‚  â”‚  - document_types                    â”‚   â”‚
â”‚  â”‚  - financial_documents               â”‚   â”‚
â”‚  â”‚  - document_review_history           â”‚   â”‚
â”‚  â”‚  - compliance_rules                  â”‚   â”‚
â”‚  â”‚  - document_review_metrics           â”‚   â”‚
â”‚  â”‚  - document_templates                â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## ğŸš€ å¿«é€Ÿé–‹å§‹

### å‰ç½®è¦æ±‚

- âœ… Supabase å°ˆæ¡ˆå·²å»ºç«‹
- âœ… å·²å®‰è£ Supabase CLI (`npm install -g supabase`)
- âœ… å·²ç™»å…¥ Supabase (`npx supabase login`)
- âœ… å·²æœ‰é‡‘èå…¬å¸å¸³è™Ÿ

### æ­¥é©Ÿ 1ï¼šè³‡æ–™åº«è¨­ç½®

1. é–‹å•Ÿ Supabase Dashboard:
   ```
   https://supabase.com/dashboard/project/ergqqdirsvmamowpklia/sql
   ```

2. é»æ“Š **"New query"**

3. è¤‡è£½ `QUICK_FINANCIAL_DOCUMENT_REVIEW_SETUP.sql` çš„å®Œæ•´å…§å®¹

4. è²¼ä¸Šä¸¦é»æ“Š **"Run"**

5. ç¢ºèªçœ‹åˆ°æˆåŠŸè¨Šæ¯ï¼š
   ```
   âœ… AI è²¡å‹™æ–‡ä»¶å¯©æ ¸ç³»çµ±è¨­ç½®å®Œæˆï¼
   ```

### æ­¥é©Ÿ 2ï¼šéƒ¨ç½² Edge Function

#### æ–¹æ³• 1ï¼šä½¿ç”¨éƒ¨ç½²è…³æœ¬ï¼ˆæ¨è–¦ï¼‰

é›™æ“ŠåŸ·è¡Œï¼š
```batch
DEPLOY_FINANCIAL_DOCUMENT_REVIEW.bat
```

#### æ–¹æ³• 2ï¼šæ‰‹å‹•éƒ¨ç½²

```bash
# 1. é€£æ¥å°ˆæ¡ˆ
npx supabase link --project-ref ergqqdirsvmamowpklia

# 2. éƒ¨ç½² Edge Function
npx supabase functions deploy document-review-analyzer --no-verify-jwt
```

### æ­¥é©Ÿ 3ï¼šé©—è­‰éƒ¨ç½²

æ¸¬è©¦ Edge Function å¥åº·ç‹€æ…‹ï¼š

```bash
curl https://ergqqdirsvmamowpklia.supabase.co/functions/v1/document-review-analyzer
```

æ‡‰è©²è¿”å›ï¼š
```json
{
  "status": "healthy",
  "service": "document-review-analyzer",
  "version": "1.0.0"
}
```

### æ­¥é©Ÿ 4ï¼šåœ¨å‰ç«¯ä½¿ç”¨

1. **åˆ·æ–°ç€è¦½å™¨** (Ctrl + Shift + R)

2. **ä½¿ç”¨é‡‘èå…¬å¸å¸³è™Ÿç™»å…¥**
   - Email: fengfinancial@example.com (æˆ–å…¶ä»–é‡‘èå…¬å¸å¸³è™Ÿ)
   
3. **å®‰è£æ¨¡çµ„**
   - é€²å…¥æ¨¡çµ„å•†åº—
   - æœå°‹ "AI æ–‡ä»¶å¯©æ ¸ç³»çµ±"
   - é»æ“Šå®‰è£

4. **é–‹å§‹ä½¿ç”¨**
   - åœ¨å´é‚Šæ¬„é¸æ“‡ "AI æ–‡ä»¶å¯©æ ¸ç³»çµ±"
   - æŸ¥çœ‹æ–‡ä»¶åˆ—è¡¨
   - é»æ“Š "AI åˆ†æ" é–‹å§‹è‡ªå‹•å¯©æ ¸

## ğŸ“Š è³‡æ–™åº«çµæ§‹

### æ ¸å¿ƒè¡¨æ ¼

#### 1. document_types (æ–‡ä»¶é¡å‹)
å®šç¾©å„ç¨®æ–‡ä»¶é¡å‹çš„å±¬æ€§å’Œè¦æ±‚ã€‚

```sql
- type_code: é¡å‹ä»£ç¢¼ (loan_application, business_loan, etc.)
- type_name: é¡å‹åç¨±
- required_fields: å¿…å¡«æ¬„ä½ (JSONB)
- compliance_rules: åˆè¦è¦å‰‡ (JSONB)
- ai_check_points: AI æª¢æŸ¥é»
- auto_approval_threshold: è‡ªå‹•æ ¸å‡†é–€æª»
```

**é è¨­é¡å‹ï¼š**
- å€‹äººä¿¡è²¸ç”³è«‹ (loan_application)
- ä¼æ¥­è²¸æ¬¾ç”³è«‹ (business_loan)
- æŠ•è³‡ç”³è«‹ (investment_application)
- è²¡å‹™å ±è¡¨ (financial_statement)
- åˆç´„å¯©æ ¸ (contract_review)
- KYC æ–‡ä»¶ (kyc_document)

#### 2. financial_documents (è²¡å‹™æ–‡ä»¶)
å­˜å„²æ‰€æœ‰å¾…å¯©æ ¸å’Œå·²å¯©æ ¸çš„æ–‡ä»¶ã€‚

```sql
ä¸»è¦æ¬„ä½ï¼š
- document_number: æ–‡ä»¶ç·¨è™Ÿ
- document_title: æ–‡ä»¶æ¨™é¡Œ
- customer_name: å®¢æˆ¶åç¨±
- loan_amount / investment_amount: é‡‘é¡
- review_status: å¯©æ ¸ç‹€æ…‹
  * pending - å¾…å¯©æ ¸
  * processing - è™•ç†ä¸­
  * approved - å·²æ ¸å‡†
  * rejected - å·²æ‹’çµ•
  * requires_info - éœ€è£œå……è³‡æ–™
  
AI åˆ†æçµæœï¼š
- ai_confidence_score: AI ä¿¡å¿ƒåˆ†æ•¸ (0-100)
- ai_risk_score: é¢¨éšªåˆ†æ•¸ (0-100)
- ai_compliance_score: åˆè¦åˆ†æ•¸ (0-100)
- ai_completeness_score: å®Œæ•´æ€§åˆ†æ•¸ (0-100)
- ai_recommendation: AI å»ºè­° (approve/review/reject)
- ai_summary: AI æ‘˜è¦èªªæ˜
- risk_factors_detected: æª¢æ¸¬åˆ°çš„é¢¨éšªå› ç´ 
- missing_information: ç¼ºå¤±çš„ä¿¡æ¯
- compliance_issues: åˆè¦å•é¡Œ
```

#### 3. document_review_history (å¯©æ ¸æ­·å²)
è¨˜éŒ„æ‰€æœ‰å¯©æ ¸å‹•ä½œå’Œç‹€æ…‹è®Šæ›´ã€‚

```sql
- document_id: æ–‡ä»¶ ID
- action: å‹•ä½œé¡å‹ (submitted, ai_analyzed, reviewed, etc.)
- action_by: åŸ·è¡Œäºº
- previous_status: èˆŠç‹€æ…‹
- new_status: æ–°ç‹€æ…‹
- notes: å‚™è¨»
```

#### 4. compliance_rules (åˆè¦è¦å‰‡)
å®šç¾©å„ç¨®åˆè¦æª¢æŸ¥è¦å‰‡ã€‚

```sql
- rule_code: è¦å‰‡ä»£ç¢¼
- rule_name: è¦å‰‡åç¨±
- severity: åš´é‡ç¨‹åº¦ (low/medium/high/critical)
- check_fields: éœ€æª¢æŸ¥çš„æ¬„ä½
- violation_action: é•è¦å‹•ä½œ (flag/warn/block)
```

**é è¨­è¦å‰‡ï¼š**
- KYC_001: å®¢æˆ¶èº«ä»½é©—è­‰
- AML_001: å¤§é¡äº¤æ˜“ç”³å ±
- CREDIT_001: ä¿¡ç”¨è©•ä¼°
- DOC_001: æ–‡ä»¶å®Œæ•´æ€§

#### 5. document_review_metrics (å¯©æ ¸æŒ‡æ¨™)
å­˜å„²å¯©æ ¸çµ±è¨ˆæ•¸æ“šã€‚

```sql
- total_documents: ç¸½æ–‡ä»¶æ•¸
- pending_documents: å¾…å¯©æ ¸æ•¸
- approved_documents: å·²æ ¸å‡†æ•¸
- rejected_documents: å·²æ‹’çµ•æ•¸
- avg_ai_confidence: å¹³å‡ AI ä¿¡å¿ƒ
- avg_processing_time_hours: å¹³å‡è™•ç†æ™‚é–“
- high_risk_count: é«˜é¢¨éšªæ–‡ä»¶æ•¸
```

## ğŸ¤– Edge Function API

### ç«¯é»
```
POST https://ergqqdirsvmamowpklia.supabase.co/functions/v1/document-review-analyzer
```

### èªè­‰
éœ€è¦åœ¨ Header ä¸­åŒ…å« Supabase Auth Tokenï¼š
```
Authorization: Bearer <your-auth-token>
```

### å‹•ä½œ

#### 1. analyze_document - åˆ†ææ–‡ä»¶

**è«‹æ±‚ï¼š**
```json
{
  "action": "analyze_document",
  "data": {
    "documentId": "uuid-here"
  }
}
```

**å›æ‡‰ï¼š**
```json
{
  "document_id": "uuid",
  "confidence_score": 85,
  "risk_score": 25,
  "compliance_score": 95,
  "completeness_score": 90,
  "recommendation": "approve",
  "reasoning": "æ–‡ä»¶å®Œæ•´ï¼Œé¢¨éšªä½ï¼Œå»ºè­°æ ¸å‡†",
  "summary": "...",
  "findings": [...],
  "missing_information": [],
  "compliance_issues": [],
  "risk_factors": []
}
```

#### 2. check_compliance - æª¢æŸ¥åˆè¦æ€§

**è«‹æ±‚ï¼š**
```json
{
  "action": "check_compliance",
  "data": {
    "documentId": "uuid-here"
  }
}
```

#### 3. validate_document - é©—è­‰æ–‡ä»¶

**è«‹æ±‚ï¼š**
```json
{
  "action": "validate_document",
  "data": {
    "documentContent": { ... }
  }
}
```

#### 4. get_statistics - ç²å–çµ±è¨ˆ

**è«‹æ±‚ï¼š**
```json
{
  "action": "get_statistics",
  "data": {
    "days": 30
  }
}
```

## ğŸ¯ ä½¿ç”¨å ´æ™¯

### å ´æ™¯ 1ï¼šå€‹äººä¿¡è²¸ç”³è«‹å¯©æ ¸

1. **å®¢æˆ¶æäº¤ç”³è«‹**
   - æ–‡ä»¶é¡å‹ï¼šå€‹äººä¿¡è²¸ç”³è«‹
   - å®¢æˆ¶ï¼šç‹å°æ˜
   - è²¸æ¬¾é‡‘é¡ï¼šNT$ 500,000

2. **AI è‡ªå‹•åˆ†æ**
   - æª¢æŸ¥èº«ä»½è­‰è™Ÿ
   - é©—è­‰æ”¶å…¥è­‰æ˜
   - è©•ä¼°ä¿¡ç”¨é¢¨éšª
   - è¨ˆç®—è² å‚µæ¯”ä¾‹

3. **AI å»ºè­°**
   - ä¿¡å¿ƒåˆ†æ•¸ï¼š85/100
   - é¢¨éšªåˆ†æ•¸ï¼š25/100
   - å»ºè­°ï¼šè‡ªå‹•æ ¸å‡† âœ…

### å ´æ™¯ 2ï¼šä¼æ¥­è²¸æ¬¾å¯©æ ¸

1. **ä¼æ¥­æäº¤ç”³è«‹**
   - æ–‡ä»¶é¡å‹ï¼šä¼æ¥­è²¸æ¬¾ç”³è«‹
   - å…¬å¸ï¼šç§‘æŠ€è‚¡ä»½æœ‰é™å…¬å¸
   - è²¸æ¬¾é‡‘é¡ï¼šNT$ 15,000,000

2. **AI æª¢æ¸¬å•é¡Œ**
   - âŒ ç¼ºå°‘ 3 å¹´è²¡å‹™å ±è¡¨
   - âŒ ç¼ºå°‘æ“”ä¿å“è­‰æ˜
   - âš ï¸ è²¡å‹™ç‹€æ³ä¸æ˜

3. **AI å»ºè­°**
   - ä¿¡å¿ƒåˆ†æ•¸ï¼š45/100
   - é¢¨éšªåˆ†æ•¸ï¼š75/100
   - å»ºè­°ï¼šäººå·¥å¯©æ ¸ ğŸ”

### å ´æ™¯ 3ï¼šæŠ•è³‡ç”³è«‹å¯©æ ¸

1. **å®¢æˆ¶æäº¤ç”³è«‹**
   - æ–‡ä»¶é¡å‹ï¼šåŸºé‡‘æŠ•è³‡ç”³è«‹
   - å®¢æˆ¶ï¼šæç¾è¯
   - æŠ•è³‡é‡‘é¡ï¼šNT$ 2,000,000

2. **AI åˆè¦æª¢æŸ¥**
   - âœ… KYC æ–‡ä»¶å®Œæ•´
   - âš ï¸ è§¸ç™¼å¤§é¡äº¤æ˜“ç”³å ± (AML_001)
   - âš ï¸ éœ€è¦é¢¨éšªè©•ä¼°

3. **AI å»ºè­°**
   - ä¿¡å¿ƒåˆ†æ•¸ï¼š65/100
   - é¢¨éšªåˆ†æ•¸ï¼š55/100
   - å»ºè­°ï¼šè£œå……è³‡æ–™å¾Œå¯©æ ¸ ğŸ“‹

## ğŸ“ˆ çµ±è¨ˆå’Œå ±è¡¨

### å³æ™‚çµ±è¨ˆ

ç³»çµ±è‡ªå‹•è¿½è¹¤ä»¥ä¸‹æŒ‡æ¨™ï¼š

- **ç¸½æ–‡ä»¶æ•¸** - æ‰€æœ‰æäº¤çš„æ–‡ä»¶
- **å¾…å¯©æ ¸æ•¸** - ç­‰å¾…è™•ç†çš„æ–‡ä»¶
- **å·²æ ¸å‡†æ•¸** - å·²é€šéçš„æ–‡ä»¶
- **å·²æ‹’çµ•æ•¸** - æœªé€šéçš„æ–‡ä»¶
- **å¹³å‡ AI ä¿¡å¿ƒ** - AI åˆ†æçš„å¹³å‡ä¿¡å¿ƒåˆ†æ•¸
- **å¹³å‡è™•ç†æ™‚é–“** - å¾æäº¤åˆ°å®Œæˆçš„å¹³å‡æ™‚é–“
- **é«˜é¢¨éšªæ–‡ä»¶æ•¸** - é¢¨éšªåˆ†æ•¸ > 70 çš„æ–‡ä»¶
- **åˆè¦å•é¡Œæ•¸** - æª¢æ¸¬åˆ°çš„åˆè¦å•é¡Œç¸½æ•¸

### ç”Ÿæˆå ±è¡¨

é»æ“Š "ç”Ÿæˆå ±å‘Š" æŒ‰éˆ•æœƒè‡ªå‹•ç”ŸæˆåŒ…å«ä»¥ä¸‹å…§å®¹çš„å®Œæ•´å ±å‘Šï¼š

1. **å¯©æ ¸ç¸½è¦½** - æ•´é«”çµ±è¨ˆæ•¸æ“š
2. **å¾…å¯©æ ¸æ–‡ä»¶** - è©³ç´°åˆ—è¡¨
3. **é«˜é¢¨éšªæ–‡ä»¶** - éœ€è¦é—œæ³¨çš„æ–‡ä»¶
4. **å»ºè­°æªæ–½** - AI å»ºè­°çš„æ”¹é€²æªæ–½

## ğŸ” å®‰å…¨æ€§

### Row Level Security (RLS)

æ‰€æœ‰è¡¨æ ¼éƒ½å•Ÿç”¨äº† RLSï¼Œç¢ºä¿ï¼š
- âœ… ç”¨æˆ¶åªèƒ½è¨ªå•è‡ªå·±å…¬å¸çš„æ•¸æ“š
- âœ… ç³»çµ±ç´šæ•¸æ“šï¼ˆæ–‡ä»¶é¡å‹ã€åˆè¦è¦å‰‡ï¼‰å°æ‰€æœ‰ç”¨æˆ¶é–‹æ”¾
- âœ… æ•æ„Ÿæ“ä½œéœ€è¦èªè­‰

### è³‡æ–™éš±ç§

- ğŸ“ æ–‡ä»¶å…§å®¹å­˜å„²åœ¨ Supabase Storage
- ğŸ”’ æ‰€æœ‰é€šä¿¡ä½¿ç”¨ HTTPS åŠ å¯†
- ğŸ”‘ ä½¿ç”¨ JWT é€²è¡Œèº«ä»½é©—è­‰
- ğŸ“ å®Œæ•´çš„å¯©æ ¸æ—¥èªŒè¿½è¹¤

## ğŸ› ï¸ æ•…éšœæ’é™¤

### å•é¡Œ 1ï¼šEdge Function è¿”å› 500 éŒ¯èª¤

**å¯èƒ½åŸå› ï¼š**
- Edge Function æœªæ­£ç¢ºéƒ¨ç½²
- è³‡æ–™åº«è¡¨æ ¼ä¸å­˜åœ¨
- RLS æ”¿ç­–é˜»æ­¢è¨ªå•

**è§£æ±ºæ–¹æ¡ˆï¼š**
1. é‡æ–°éƒ¨ç½² Edge Function
2. ç¢ºèªè³‡æ–™åº«è¨­ç½®å·²å®Œæˆ
3. æª¢æŸ¥ Supabase æ—¥èªŒ

### å•é¡Œ 2ï¼šç„¡æ³•çœ‹åˆ°æ–‡ä»¶åˆ—è¡¨

**å¯èƒ½åŸå› ï¼š**
- å…¬å¸ ID ä¸æ­£ç¢º
- RLS æ”¿ç­–å•é¡Œ
- æœªè¼‰å…¥æ•¸æ“š

**è§£æ±ºæ–¹æ¡ˆï¼š**
1. ç¢ºèªä½¿ç”¨æ­£ç¢ºçš„é‡‘èå…¬å¸å¸³è™Ÿç™»å…¥
2. æª¢æŸ¥ Browser Console éŒ¯èª¤è¨Šæ¯
3. é©—è­‰ Supabase é€£æ¥

### å•é¡Œ 3ï¼šAI åˆ†æå¤±æ•—

**å¯èƒ½åŸå› ï¼š**
- Edge Function æœªéŸ¿æ‡‰
- æ–‡ä»¶æ•¸æ“šä¸å®Œæ•´
- ç¶²è·¯å•é¡Œ

**è§£æ±ºæ–¹æ¡ˆï¼š**
1. æª¢æŸ¥ Edge Function å¥åº·ç‹€æ…‹
2. ç¢ºèªæ–‡ä»¶åŒ…å«å¿…è¦æ¬„ä½
3. æŸ¥çœ‹ Browser Console å’Œ Supabase æ—¥èªŒ

### æŸ¥çœ‹æ—¥èªŒ

**Browser Consoleï¼š**
```
F12 â†’ Console â†’ æŸ¥çœ‹å‰ç«¯éŒ¯èª¤å’Œ API å›æ‡‰
```

**Supabase Logsï¼š**
```
Dashboard â†’ Logs â†’ Edge Functions â†’ document-review-analyzer
```

## ğŸ“š é€²éšåŠŸèƒ½

### è‡ªè¨‚æ–‡ä»¶é¡å‹

åœ¨ `document_types` è¡¨æ ¼ä¸­æ–°å¢è‡ªè¨‚é¡å‹ï¼š

```sql
INSERT INTO document_types (
  type_code, type_name, category, required_fields, ai_check_points
) VALUES (
  'custom_type',
  'è‡ªè¨‚æ–‡ä»¶é¡å‹',
  'è‡ªè¨‚é¡åˆ¥',
  '["field1", "field2"]'::jsonb,
  ARRAY['æª¢æŸ¥é»1', 'æª¢æŸ¥é»2']
);
```

### è‡ªè¨‚åˆè¦è¦å‰‡

æ–°å¢å…¬å¸ç‰¹å®šçš„åˆè¦è¦å‰‡ï¼š

```sql
INSERT INTO compliance_rules (
  rule_code, rule_name, rule_description, category, severity, check_fields
) VALUES (
  'CUSTOM_001',
  'è‡ªè¨‚è¦å‰‡',
  'è¦å‰‡èªªæ˜',
  'custom',
  'high',
  ARRAY['customer_name', 'loan_amount']
);
```

### èª¿æ•´ AI é–€æª»

ä¿®æ”¹è‡ªå‹•æ ¸å‡†å’Œäººå·¥å¯©æ ¸çš„é–€æª»ï¼š

```sql
UPDATE document_types
SET 
  auto_approval_threshold = 85.00,  -- AI ä¿¡å¿ƒåˆ†æ•¸ >= 85 è‡ªå‹•æ ¸å‡†
  manual_review_threshold = 60.00   -- AI ä¿¡å¿ƒåˆ†æ•¸ < 60 éœ€äººå·¥å¯©æ ¸
WHERE type_code = 'loan_application';
```

## ğŸ”„ ç³»çµ±ç¶­è­·

### å®šæœŸæª¢æŸ¥

å»ºè­°å®šæœŸåŸ·è¡Œä»¥ä¸‹æª¢æŸ¥ï¼š

1. **å¯©æ ¸ç©å£“** - æª¢æŸ¥å¾…å¯©æ ¸æ–‡ä»¶æ•¸é‡
2. **AI æº–ç¢ºç‡** - æ¯”è¼ƒ AI å»ºè­°èˆ‡æœ€çµ‚æ±ºå®š
3. **è™•ç†æ™‚é–“** - ç›£æ§å¹³å‡è™•ç†æ™‚é–“
4. **åˆè¦å•é¡Œ** - è¿½è¹¤å¸¸è¦‹åˆè¦å•é¡Œ

### æ€§èƒ½å„ªåŒ–

- å®šæœŸæ¸…ç†èˆŠæ–‡ä»¶ï¼ˆè¶…éä¿ç•™æœŸé™ï¼‰
- æ›´æ–°çµ±è¨ˆè³‡æ–™
- å„ªåŒ–è³‡æ–™åº«ç´¢å¼•

## ğŸ“ æ”¯æ´

å¦‚éœ€å”åŠ©ï¼Œè«‹åƒè€ƒï¼š

- **æ–‡ä»¶** - æœ¬æŒ‡å—
- **ç¨‹å¼ç¢¼** - æŸ¥çœ‹ `FinancialDocumentReview.tsx` å’Œ Edge Function
- **æ—¥èªŒ** - Browser Console å’Œ Supabase Logs

## ğŸ‰ ç¸½çµ

AI è²¡å‹™æ–‡ä»¶å¯©æ ¸ç³»çµ±æä¾›äº†å®Œæ•´çš„è‡ªå‹•åŒ–å¯©æ ¸è§£æ±ºæ–¹æ¡ˆï¼ŒåŒ…æ‹¬ï¼š

âœ… **å®Œæ•´çš„è³‡æ–™åº«çµæ§‹** - 6 å€‹æ ¸å¿ƒè¡¨æ ¼ï¼Œæ”¯æ´æ‰€æœ‰å¯©æ ¸éœ€æ±‚  
âœ… **å¼·å¤§çš„ Edge Function** - 5 å€‹ AI å‹•ä½œï¼Œæ™ºèƒ½åˆ†ææ–‡ä»¶  
âœ… **ç¾ä»£åŒ–å‰ç«¯ä»‹é¢** - React + TypeScriptï¼Œé€£æ¥çœŸå¯¦ API  
âœ… **ä¸€éµå¿«é€Ÿè¨­ç½®** - QUICK_SETUP.sql å¿«é€Ÿéƒ¨ç½²  
âœ… **ä¼æ¥­ç´šå®‰å…¨** - RLSã€èªè­‰ã€åŠ å¯†å®Œæ•´ä¿è­·  
âœ… **éˆæ´»æ“´å±•** - æ˜“æ–¼è‡ªè¨‚é¡å‹ã€è¦å‰‡å’Œé–€æª»  

**åƒè€ƒ DrugManagement çš„å®Œæ•´æ¶æ§‹ï¼Œç‚ºé‡‘èè¡Œæ¥­æ‰“é€ çš„å°ˆæ¥­è§£æ±ºæ–¹æ¡ˆï¼** ğŸš€


